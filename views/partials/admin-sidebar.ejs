<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo and Brand -->
    <div class="navbar-brand">
      <h2 class="brand-title">ERP Admin Portal</h2>
    </div>

    <!-- Hamburger Menu for Mobile -->
    <button class="navbar-toggle" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Navigation Links -->
    <div class="navbar-menu">
      <a
        href="/admin?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'admin' ? 'active' : '' %>"
        data-page="admin"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'admin' ? 'page' : 'false' %>"
      >
        <i class="fas fa-cogs"></i> Dashboard
      </a>
      <a
        href="/admin/college?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'college' ? 'active' : '' %>"
        data-page="college"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'college' ? 'page' : 'false' %>"
      >
        <i class="fas fa-university"></i> College
      </a>
      <a
        href="/admin/create-user?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'create-user' ? 'active' : '' %>"
        data-page="create-user"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'create-user' ? 'page' : 'false' %>"
      >
        <i class="fas fa-user-plus"></i> Create User
      </a>
      <a
        href="/admin/make-attendance?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'make-attendance' ? 'active' : '' %>"
        data-page="make-attendance"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'make-attendance' ? 'page' : 'false' %>"
      >
        <i class="fas fa-calendar-check"></i> Make Attendance
      </a>
      <a
        href="/admin/edit-user?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'edit-user' ? 'active' : '' %>"
        data-page="edit-user"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'edit-user' ? 'page' : 'false' %>"
      >
        <i class="fas fa-user-edit"></i> Edit User
      </a>
      <a
        href="/admin/upload-documents?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'upload-documents' ? 'active' : '' %>"
        data-page="upload-documents"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'upload-documents' ? 'page' : 'false' %>"
      >
        <i class="fas fa-file-upload"></i> Upload Documents
      </a>
      <a
        href="/admin/assign-teachers?token=<%= token %>"
        class="navbar-link <%= currentPage && currentPage.toLowerCase() === 'assign-teachers' ? 'active' : '' %>"
        data-page="assign-teachers"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'assign-teachers' ? 'page' : 'false' %>"
      >
        <i class="fas fa-chalkboard-teacher"></i> Assign Teachers
      </a>
      <a href="/" class="navbar-link" data-page="logout">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </div>
  </div>

  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600&display=swap");

    :root {
      --primary-blue: #2563eb;
      --primary-purple: #7c3aed;
      --text-dark: #1f2937;
      --light-gray: #f3f4f6;
    }

    .navbar {
      background: white;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      padding: 0.75rem 1.5rem;
      font-family: "Inter", sans-serif;
    }

    .navbar-container {
      max-width: 1280px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
    }

    .brand-title {
      font-family: "Poppins", sans-serif;
      font-size: 1.5rem;
      color: var(--text-dark);
      font-weight: 600;
    }

    .navbar-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 1.25rem;
      color: var(--text-dark);
      cursor: pointer;
      padding: 0.5rem;
    }

    .navbar-menu {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .navbar-link {
      position: relative;
      display: flex;
      align-items: center;
      padding: 0.5rem 0.75rem;
      color: var(--text-dark);
      text-decoration: none;
      font-size: 10px;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    .navbar-link i {
      margin-right: 0.4rem;
      font-size: 1rem;
    }

    .navbar-link::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(
        90deg,
        var(--primary-blue),
        var(--primary-purple)
      );
      transition: width 0.3s ease;
    }

    .navbar-link:hover::after,
    .navbar-link.active::after {
      width: 100%;
    }

    .navbar-link:hover,
    .navbar-link.active {
      color: var(--primary-blue);
    }

    @media (max-width: 768px) {
      .navbar-toggle {
        display: block;
      }

      .navbar-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        flex-direction: column;
        padding: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .navbar-menu.active {
        display: flex;
      }

      .navbar-link {
        width: 100%;
        padding: 0.6rem 0;
      }
    }
  </style>

  <script>
    // Ensure the correct sidebar link is highlighted on page load
    document.addEventListener("DOMContentLoaded", () => {
      const currentPath = window.location.pathname;
      const sidebarLinks = document.querySelectorAll(".sidebar-nav a");

      // Remove active class from all links
      sidebarLinks.forEach((link) => link.classList.remove("active"));

      // Map paths to page identifiers
      const pageMap = {
        "/admin": "admin",
        "/admin/college": "college",
        "/admin/create-user": "create-user",
        "/admin/make-attendance": "make-attendance",
        "/admin/edit-user": "edit-user",
        "/admin/upload-documents": "upload-documents",
        "/admin/assign-teachers": "assign-teachers",
      };

      // Find and highlight the matching link
      const currentPage = pageMap[currentPath];
      if (currentPage) {
        const activeLink = document.querySelector(
          `.sidebar-nav a[data-page="${currentPage}"]`
        );
        if (activeLink) {
          activeLink.classList.add("active");
          activeLink.setAttribute("aria-current", "page");
        }
      }

      // Handle sidebar toggle
      const sidebar = document.querySelector(".sidebar");
      const toggle = document.querySelector(".sidebar-toggle");
      if (toggle) {
        toggle.addEventListener("click", () => {
          sidebar.classList.toggle("active");
        });
      }
    });
  </script>
</nav>
